<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE-edge">
        <title>Dynamic Page Test</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
    {{ js_resources|indent(4)|safe }}
    {{ css_resources|indent(4)|safe }}
</head>
<body>
  <div class="container-fluid bg-primary">
    <div class="row">
      <div id="divNavBar" class="col-sm-auto bg-primary sticky-top">
        <div class="d-flex flex-sm-column flex-row flex-nowrap bg-light align-items-center sticky-top">
            <a href="#" class="d-block p-3 link-dark text-decoration-none" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Icon-only">
              <i class="fa-solid fa-egg fa-3x"></i>
            </a>
            <ul class="nav nav-pills nav-flush flex-sm-column flex-row flex-nowrap mb-auto mx-auto text-center justify-content-between w-100 px-3 align-items-center">
                <li class="nav-item">
                    <a id="navDashboard" href="#" class="nav-link py-3 px-2" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Dashboard">
                      <i class="fa-solid fa-house fa-1x"> Dashboard</i>
                    </a>
                </li>
                <li>
                    <a id="navSettings" href="#" class="nav-link py-3 px-2" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Settings">
                      <i class="fa-solid fa-gear fa-1x"> Settings</i>
                    </a>
                </li>
            </ul>
        </div>
    </div>

         <!-- Dashboard Page -->
          <div class="container py-5 h-100" id="divDashboard">
            <div class="row d-flex justify-content-center align-items-center h-100 ">
              <div class = "col-12 col-md-8">
                <div class="card py-3 px-4 bg-secondary">
                <div class="card shadow-2-strong" style="border-radius: 1rem;">
                  <div class="card-body p-0 text-center">
                    <div id="divBody" class="col-11 min-vh-100"></div>
                  </div>
              </div>
              </div>
            </div>
            </div>
        </div>
    </div>
  </div>
</body>
<script>
  $( document ).ready(function() {
      let intDivNum = 4;  //this is the number of divs we will be dynamically creating.

      for(i = 0; i < intDivNum; i++) {
          strNewDiv = '';
          strNewDiv += '<div col-11 bg-primary" id="myplot' + (i + 1) + '"></div>';
          $("#divBody").append(strNewDiv);
      }
  })
</script>
  </script>
    <script>
      fetch('/layout?meter_name=98790323')
        .then(function(response) { return response.json(); })
        .then(function(item) { return Bokeh.embed.embed_item(item, "myplot4"); })
    </script>
    <script src="js/lib/jquery-3.6.1.min.js"></script>
    <script src="js/lib/bootstrap.bundle.min.js"></script>
    <script src="js/lib/sweetalert2.js"></script>
</html>